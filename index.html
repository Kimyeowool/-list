<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>유튜브 배경 테스트</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      background: black;
    }
    #background-player {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
      filter: blur(12px) brightness(0.3);
      pointer-events: none;
    }
    #mini-player {
      position: absolute;
      top: 20px; right: 20px;
      width: 300px; height: 170px;
      z-index: 10;
      border: 2px solid white;
      border-radius: 12px;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div id="background-player"></div>
  <div id="mini-player"></div>

  <!-- 반드시 API 불러오기 전에 함수 먼저 정의해야 함 -->
  <script>
    let backgroundPlayer, miniPlayer;

    function onYouTubeIframeAPIReady() {
      const videoId = 'dQw4w9WgXcQ'; // 테스트 영상

      miniPlayer = new YT.Player('mini-player', {
        height: '170',
        width: '300',
        videoId: videoId,
        playerVars: { autoplay: 1, controls: 1, modestbranding: 1, rel: 0 }
      });

      backgroundPlayer = new YT.Player('background-player', {
        height: '100%',
        width: '100%',
        videoId: videoId,
        playerVars: {
          autoplay: 1,
          mute: 1,
          controls: 0,
          loop: 1,
          playlist: videoId,
          modestbranding: 1,
          rel: 0
        },
        events: {
          onReady: e => e.target.mute()
        }
      });
    }
  </script>

  <!-- API 불러오기 -->
  <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
